/*
 * Copyright (C) 2015 MediaTek Inc.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 */

#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H


/* ============================================================
// define
// ============================================================*/
#define BAT_NTC_10 0
#define BAT_NTC_47 1

#if (BAT_NTC_10 == 1)
#if defined(CONFIG_MTK_PMIC_CHIP_MT6353)
	#define RBAT_PULL_UP_R             16900
#else
	#define RBAT_PULL_UP_R             24000
#endif
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900
#endif

#define RBAT_PULL_UP_VOLT          1800



/* ============================================================
// ENUM
// ============================================================*/

/* ============================================================
// structure
// ============================================================*/

/* ============================================================
// typedef
// ============================================================*/
typedef struct _BATTERY_PROFILE_STRUCT {
	signed int percentage;
	signed int voltage;
	} BATTERY_PROFILE_STRUCT, *BATTERY_PROFILE_STRUCT_P;

typedef struct _R_PROFILE_STRUCT {
	signed int resistance; /* Ohm*/
	signed int voltage;
} R_PROFILE_STRUCT, *R_PROFILE_STRUCT_P;

typedef enum {
	T1_0C,
	T2_25C,
	T3_50C
} PROFILE_TEMPERATURE;

/* ============================================================
// External Variables
// ============================================================*/

/* ============================================================
// External function
// ============================================================*/

/* ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================*/
#if (BAT_NTC_10 == 1)
BATT_TEMPERATURE Batt_Temperature_Table[] = {
	{-20, 68237},
	{-15, 53650},
	{-10, 42506},
	{ -5, 33892},
	{  0, 27219},
	{  5, 22021},
	{ 10, 17926},
	{ 15, 14674},
	{ 20, 12081},
	{ 25, 10000},
	{ 30, 8315},
	{ 35, 6948},
	{ 40, 5834},
	{ 45, 4917},
	{ 50, 4161},
	{ 55, 3535},
	{ 60, 3014}
};
#endif

#if (BAT_NTC_47 == 1)
BATT_TEMPERATURE Batt_Temperature_Table[] = {
	{-20, 483954},
	{-15, 360850},
	{-10, 271697},
	{ -5, 206463},
	{  0, 158214},
	{  5, 122259},
	{ 10, 95227},
	{ 15, 74730},
	{ 20, 59065},
	{ 25, 47000},
	{ 30, 37643},
	{ 35, 30334},
	{ 40, 24591},
	{ 45, 20048},
	{ 50, 16433},
	{ 55, 13539},
	{ 60, 11210}
};
#endif

/* T0 -10C */
BATTERY_PROFILE_STRUCT battery_profile_t0[] = 
{
{0,4321},
{1,4286},
{3,4261},
{4,4239},
{6,4219},
{7,4200},
{9,4182},
{10,4166},
{11,4150},
{13,4134},
{14,4119},
{16,4103},
{17,4089},
{19,4074},
{20,4062},
{21,4047},
{23,4030},
{24,4009},
{26,3989},
{27,3971},
{29,3956},
{30,3942},
{32,3931},
{33,3921},
{34,3909},
{36,3898},
{37,3886},
{39,3874},
{40,3863},
{42,3853},
{43,3842},
{44,3834},
{46,3826},
{47,3818},
{49,3810},
{50,3804},
{52,3798},
{53,3793},
{54,3788},
{56,3783},
{57,3780},
{59,3776},
{60,3773},
{62,3770},
{63,3768},
{64,3766},
{66,3763},
{67,3761},
{69,3757},
{70,3755},
{72,3752},
{73,3749},
{75,3744},
{76,3740},
{77,3735},
{79,3730},
{80,3724},
{82,3717},
{83,3709},
{85,3702},
{86,3694},
{87,3687},
{89,3681},
{90,3673},
{92,3666},
{93,3656},
{95,3640},
{96,3614},
{97,3569},
{99,3498},
{100,3374},
{100,3374},
{100,3374},
{100,3374},
{100,3374},
{100,3374}
};

/* T1 0C */
BATTERY_PROFILE_STRUCT battery_profile_t1[] = 
{
{0,4326},
{1,4293},
{3,4270},
{4,4252},
{6,4234},
{7,4218},
{9,4202},
{10,4187},
{11,4171},
{13,4156},
{14,4141},
{16,4126},
{17,4111},
{19,4097},
{20,4084},
{21,4069},
{23,4059},
{24,4048},
{26,4033},
{27,4012},
{29,3991},
{30,3973},
{31,3960},
{33,3948},
{34,3938},
{36,3927},
{37,3915},
{39,3900},
{40,3887},
{41,3874},
{43,3863},
{44,3853},
{46,3844},
{47,3836},
{49,3828},
{50,3821},
{51,3815},
{53,3808},
{54,3803},
{56,3797},
{57,3792},
{59,3787},
{60,3783},
{61,3778},
{63,3774},
{64,3770},
{66,3767},
{67,3764},
{69,3761},
{70,3758},
{71,3756},
{73,3753},
{74,3750},
{76,3746},
{77,3741},
{79,3737},
{80,3731},
{81,3725},
{83,3717},
{84,3708},
{86,3700},
{87,3690},
{89,3681},
{90,3676},
{91,3673},
{93,3670},
{94,3666},
{96,3655},
{97,3612},
{99,3535},
{100,3415},
{100,3113},
{100,3113},
{100,3113},
{100,3113},
{100,3113}
};

/* T2 25C*/
BATTERY_PROFILE_STRUCT battery_profile_t2[] = 
{
{0,4382},
{1,4366},
{3,4351},
{4,4336},
{5,4321},
{7,4305},
{8,4290},
{9,4274},
{11,4258},
{12,4242},
{13,4227},
{15,4211},
{16,4196},
{17,4180},
{19,4165},
{20,4151},
{21,4136},
{23,4121},
{24,4107},
{25,4092},
{27,4079},
{28,4065},
{29,4053},
{31,4040},
{32,4025},
{33,4011},
{35,3999},
{36,3988},
{37,3977},
{39,3966},
{40,3954},
{41,3939},
{43,3922},
{44,3906},
{45,3893},
{47,3881},
{48,3872},
{49,3864},
{51,3856},
{52,3849},
{53,3842},
{55,3835},
{56,3829},
{57,3823},
{59,3818},
{60,3813},
{61,3808},
{63,3804},
{64,3800},
{65,3796},
{67,3792},
{68,3788},
{69,3784},
{71,3779},
{72,3774},
{73,3768},
{75,3763},
{76,3757},
{77,3752},
{79,3747},
{80,3742},
{81,3738},
{83,3732},
{84,3724},
{85,3716},
{87,3708},
{88,3698},
{89,3691},
{91,3689},
{92,3688},
{93,3686},
{95,3681},
{96,3658},
{97,3599},
{99,3513},
{100,3386}
};

/* T3 50C*/
BATTERY_PROFILE_STRUCT battery_profile_t3[] = 
{
{0,4361},
{1,4344},
{3,4330},
{4,4314},
{5,4299},
{7,4283},
{8,4269},
{9,4253},
{11,4237},
{12,4222},
{14,4206},
{15,4191},
{16,4175},
{18,4160},
{19,4144},
{20,4129},
{22,4114},
{23,4100},
{24,4085},
{26,4071},
{27,4057},
{28,4043},
{30,4030},
{31,4016},
{32,4003},
{34,3991},
{35,3978},
{36,3967},
{38,3956},
{39,3944},
{41,3932},
{42,3919},
{43,3900},
{45,3883},
{46,3870},
{47,3860},
{49,3851},
{50,3842},
{51,3834},
{53,3827},
{54,3820},
{55,3813},
{57,3807},
{58,3801},
{59,3796},
{61,3791},
{62,3786},
{64,3782},
{65,3776},
{66,3772},
{68,3767},
{69,3764},
{70,3759},
{72,3751},
{73,3740},
{74,3733},
{76,3727},
{77,3721},
{78,3714},
{80,3708},
{81,3703},
{82,3698},
{84,3692},
{85,3684},
{86,3676},
{88,3667},
{89,3658},
{91,3656},
{92,3655},
{93,3653},
{95,3649},
{96,3635},
{97,3586},
{99,3513},
{100,3402},
{100,3177}
};

/* battery profile for actual temperature. The size should be the same as T1, T2 and T3*/
BATTERY_PROFILE_STRUCT battery_profile_temperature[] = 
{
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0}
};

/* ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================*/
/* T0 -10C*/
R_PROFILE_STRUCT r_profile_t0[] = 
{
{912,4321},
{912,4286},
{946,4261},
{961,4239},
{967,4219},
{964,4200},
{963,4182},
{961,4166},
{958,4150},
{952,4134},
{950,4119},
{943,4103},
{941,4089},
{938,4074},
{938,4062},
{935,4047},
{927,4030},
{914,4009},
{902,3989},
{891,3971},
{890,3956},
{887,3942},
{888,3931},
{887,3921},
{883,3909},
{879,3898},
{876,3886},
{870,3874},
{868,3863},
{866,3853},
{862,3842},
{862,3834},
{862,3826},
{862,3818},
{864,3810},
{868,3804},
{870,3798},
{874,3793},
{879,3788},
{884,3783},
{890,3780},
{895,3776},
{901,3773},
{911,3770},
{919,3768},
{929,3766},
{941,3763},
{952,3761},
{964,3757},
{976,3755},
{989,3752},
{1003,3749},
{1020,3744},
{1034,3740},
{1049,3735},
{1070,3730},
{1093,3724},
{1116,3717},
{1141,3709},
{1169,3702},
{1201,3694},
{1243,3687},
{1290,3681},
{1341,3673},
{1400,3666},
{1466,3656},
{1529,3640},
{1586,3614},
{1641,3569},
{1724,3498},
{1896,3374},
{1896,3374},
{1896,3374},
{1896,3374},
{1896,3374},
{1896,3374}
};

/* T1 0C*/
R_PROFILE_STRUCT r_profile_t1[] = 
{
{349,4326},
{349,4293},
{369,4270},
{378,4252},
{380,4234},
{381,4218},
{381,4202},
{383,4187},
{383,4171},
{385,4156},
{384,4141},
{385,4126},
{384,4111},
{386,4097},
{388,4084},
{385,4069},
{392,4059},
{395,4048},
{397,4033},
{390,4012},
{388,3991},
{386,3973},
{388,3960},
{388,3948},
{389,3938},
{385,3927},
{378,3915},
{367,3900},
{363,3887},
{355,3874},
{352,3863},
{351,3853},
{350,3844},
{353,3836},
{354,3828},
{355,3821},
{358,3815},
{359,3808},
{363,3803},
{364,3797},
{367,3792},
{370,3787},
{375,3783},
{375,3778},
{378,3774},
{380,3770},
{384,3767},
{389,3764},
{391,3761},
{395,3758},
{398,3756},
{405,3753},
{409,3750},
{412,3746},
{416,3741},
{421,3737},
{425,3731},
{433,3725},
{440,3717},
{443,3708},
{454,3700},
{464,3690},
{473,3681},
{487,3676},
{505,3673},
{529,3670},
{559,3666},
{599,3655},
{623,3612},
{671,3535},
{774,3415},
{1387,3113},
{1387,3113},
{1387,3113},
{1387,3113},
{1387,3113}
};

/* T2 25C*/
R_PROFILE_STRUCT r_profile_t2[] = 
{
{124,4382},
{124,4366},
{126,4351},
{125,4336},
{125,4321},
{125,4305},
{126,4290},
{125,4274},
{125,4258},
{127,4242},
{126,4227},
{125,4211},
{127,4196},
{126,4180},
{126,4165},
{126,4151},
{126,4136},
{127,4121},
{130,4107},
{133,4092},
{136,4079},
{138,4065},
{143,4053},
{144,4040},
{146,4025},
{149,4011},
{152,3999},
{156,3988},
{157,3977},
{160,3966},
{160,3954},
{154,3939},
{142,3922},
{131,3906},
{125,3893},
{123,3881},
{121,3872},
{120,3864},
{119,3856},
{119,3849},
{120,3842},
{121,3835},
{120,3829},
{121,3823},
{122,3818},
{123,3813},
{124,3808},
{125,3804},
{126,3800},
{128,3796},
{130,3792},
{130,3788},
{129,3784},
{129,3779},
{126,3774},
{124,3768},
{123,3763},
{122,3757},
{121,3752},
{120,3747},
{121,3742},
{121,3738},
{123,3732},
{123,3724},
{122,3716},
{124,3708},
{123,3698},
{121,3691},
{123,3689},
{127,3688},
{132,3686},
{139,3681},
{136,3658},
{136,3599},
{148,3513},
{166,3386}
};

/* T3 50C*/
R_PROFILE_STRUCT r_profile_t3[] = 
{
{101,4361},
{101,4344},
{101,4330},
{101,4314},
{101,4299},
{101,4283},
{104,4269},
{102,4253},
{101,4237},
{104,4222},
{102,4206},
{102,4191},
{102,4175},
{104,4160},
{104,4144},
{104,4129},
{104,4114},
{105,4100},
{107,4085},
{105,4071},
{106,4057},
{107,4043},
{109,4030},
{110,4016},
{110,4003},
{113,3991},
{113,3978},
{115,3967},
{119,3956},
{121,3944},
{122,3932},
{124,3919},
{113,3900},
{107,3883},
{102,3870},
{102,3860},
{102,3851},
{101,3842},
{102,3834},
{102,3827},
{102,3820},
{102,3813},
{104,3807},
{104,3801},
{104,3796},
{106,3791},
{107,3786},
{109,3782},
{107,3776},
{109,3772},
{110,3767},
{112,3764},
{111,3759},
{108,3751},
{102,3740},
{102,3733},
{105,3727},
{104,3721},
{104,3714},
{102,3708},
{104,3703},
{104,3698},
{105,3692},
{107,3684},
{104,3676},
{106,3667},
{101,3658},
{102,3656},
{105,3655},
{110,3653},
{116,3649},
{115,3635},
{111,3586},
{115,3513},
{124,3402},
{177,3177}
};

/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3*/
R_PROFILE_STRUCT r_profile_temperature[] = 
{
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0},
{0,0}
};

/* ============================================================
// function prototype
// ============================================================*/
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUCT_P fgauge_get_profile(unsigned int temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUCT_P fgauge_get_profile_r_table(unsigned int temperature);

#endif

